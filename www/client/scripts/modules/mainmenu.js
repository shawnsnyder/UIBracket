// Generated by CoffeeScript 1.6.3
define(['jquery', 'app', 'backbone', 'nl'], function($, app, Backbone, nl) {
  var MainmenuModule;
  MainmenuModule = app.module();
  MainmenuModule.game = Backbone.Model.extend({
    defaults: function() {
      return {
        name: '',
        boogie: 'vfvfvfv'
      };
    },
    url: 'games',
    type: 'game',
    sync: _.sync
  });
  MainmenuModule.games = Backbone.Collection.extend({
    url: 'games',
    type: 'game',
    sync: _.sync,
    nextOrder: function() {
      if (!this.length) {
        return 1;
      } else {
        return this.last().get('order') + 1;
      }
    }
  });
  MainmenuModule.Views.Main = Backbone.View.extend({
    template: 'mainmenu'
  });
  MainmenuModule.Views.Creategame = Backbone.View.extend({
    template: 'Creategame',
    events: {
      'click .create': 'create'
    },
    serialize: function() {
      return {
        data: null
      };
    },
    create: function(event) {
      debugger;
      var gamename, newGame,
        _this = this;
      event.preventDefault();
      event.stopPropagation();
      gamename = $('.gamename-input').val();
      console.log(gamename);
      newGame = new MainmenuModule.game;
      newGame.set('gameid', new Date().getTime());
      newGame.set('name', gamename);
      newGame.save({}, {
        success: function() {
          console.log('i guess that workedd');
          return console.log(newGame);
        }
      });
    },
    beforeRender: function() {},
    afterRender: function() {
      var nlform;
      nlform = new window.NLForm(document.getElementById('nl-form'));
    }
  });
  MainmenuModule.Views.Test = Backbone.View.extend({
    template: 'test',
    init: function() {
      return console.log('inside');
    }
  });
  return MainmenuModule;
});
